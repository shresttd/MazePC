<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_101) on Mon Sep 26 23:43:23 EDT 2016 -->
<title>FirstPersonDrawer</title>
<meta name="date" content="2016-09-26">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FirstPersonDrawer";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":9,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FirstPersonDrawer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../falstad/DefaultViewer.html" title="class in falstad"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../falstad/FirstPersonDrawer.FloatPair.html" title="class in falstad"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?falstad/FirstPersonDrawer.html" target="_top">Frames</a></li>
<li><a href="FirstPersonDrawer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">falstad</div>
<h2 title="Class FirstPersonDrawer" class="title">Class FirstPersonDrawer</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../falstad/DefaultViewer.html" title="class in falstad">falstad.DefaultViewer</a></li>
<li>
<ul class="inheritance">
<li>falstad.FirstPersonDrawer</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../falstad/Viewer.html" title="interface in falstad">Viewer</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">FirstPersonDrawer</span>
extends <a href="../falstad/DefaultViewer.html" title="class in falstad">DefaultViewer</a></pre>
<div class="block">This class encapsulates all functionality for drawing the current view at the maze from a first person perspective.
 It is an drawing agent with redraw as its public method to redraw the maze while the user plays, i.e. navigates through the maze.

 This code is refactored code from Maze.java by Paul Falstad, www.falstad.com, Copyright (C) 1998, all rights reserved
 Paul Falstad granted permission to modify and use code for teaching purposes.
 Refactored by Peter Kemper</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.FloatPair.html" title="class in falstad">FirstPersonDrawer.FloatPair</a></span></code>
<div class="block">Trivial class to hold to double values.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.RangePair.html" title="class in falstad">FirstPersonDrawer.RangePair</a></span></code>
<div class="block">Trivial class to hold 4 integer values.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#all_visible">all_visible</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#angle">angle</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../generation/BSPNode.html" title="class in generation">BSPNode</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#bsp_root">bsp_root</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#deepdebug">deepdebug</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#drawrect_ct">drawrect_ct</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#drawrect_late_ct">drawrect_late_ct</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#drawrect_segment_ct">drawrect_segment_ct</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.awt.Graphics2D</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#gc">gc</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.util.logging.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#logFirstPerson">logFirstPerson</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#map_unit">map_unit</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#nesting">nesting</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../falstad/RangeSet.html" title="class in falstad">RangeSet</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#rset">rset</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../generation/Cells.html" title="class in generation">Cells</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#seencells">seencells</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#step_size">step_size</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#traverse_node_ct">traverse_node_ct</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#traverse_ssector_ct">traverse_ssector_ct</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#view_dx">view_dx</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#view_dy">view_dy</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#view_height">view_height</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#view_width">view_width</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#viewx">viewx</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#viewy">viewy</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#viewz">viewz</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#zscale">zscale</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#FirstPersonDrawer-int-int-int-int-generation.Cells-generation.BSPNode-">FirstPersonDrawer</a></span>(int&nbsp;width,
                 int&nbsp;height,
                 int&nbsp;map_unit,
                 int&nbsp;step_size,
                 <a href="../generation/Cells.html" title="class in generation">Cells</a>&nbsp;seencells,
                 <a href="../generation/BSPNode.html" title="class in generation">BSPNode</a>&nbsp;bsp_root)</code>
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#boundingBoxIsVisible-generation.BSPNode-">boundingBoxIsVisible</a></span>(<a href="../generation/BSPNode.html" title="class in generation">BSPNode</a>&nbsp;b)</code>
<div class="block">Decide if the bounding box is visible</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#clip3d-falstad.FirstPersonDrawer.RangePair-">clip3d</a></span>(<a href="../falstad/FirstPersonDrawer.RangePair.html" title="class in falstad">FirstPersonDrawer.RangePair</a>&nbsp;rp)</code>
<div class="block">Helper method for bbox_visible and drawrect</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private static boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#clipt-int-int-falstad.FirstPersonDrawer.FloatPair-">clipt</a></span>(int&nbsp;denom,
     int&nbsp;num,
     <a href="../falstad/FirstPersonDrawer.FloatPair.html" title="class in falstad">FirstPersonDrawer.FloatPair</a>&nbsp;fp)</code>
<div class="block">Helper method for clip3d</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#dbg-java.lang.String-">dbg</a></span>(java.lang.String&nbsp;str)</code>
<div class="block">Helper method for debugging</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#drawAllSegmentsOfASector-generation.BSPLeaf-">drawAllSegmentsOfASector</a></span>(<a href="../generation/BSPLeaf.html" title="class in generation">BSPLeaf</a>&nbsp;n)</code>
<div class="block">Traverses all segments of this leaf and draws corresponding rectangles on screen</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#drawAllVisibleSectors-generation.BSPNode-">drawAllVisibleSectors</a></span>(<a href="../generation/BSPNode.html" title="class in generation">BSPNode</a>&nbsp;nn)</code>
<div class="block">Recursive method to explore tree of BSP nodes and draw all segments in leaf nodes 
 where the bounding box is visible</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#drawBackground-java.awt.Graphics-">drawBackground</a></span>(java.awt.Graphics&nbsp;gc)</code>
<div class="block">Draws a black and a grey rectangle to cover the background.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#drawSegment-generation.Seg-">drawSegment</a></span>(<a href="../generation/Seg.html" title="class in generation">Seg</a>&nbsp;seg)</code>
<div class="block">Draws segment on screen via graphics attribute gc
 Helper method for traverse_ssector</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#redraw-java.awt.Graphics-falstad.Constants.StateGUI-int-int-int-int-int-int-falstad.RangeSet-int-">redraw</a></span>(java.awt.Graphics&nbsp;gc,
      <a href="../falstad/Constants.StateGUI.html" title="enum in falstad">Constants.StateGUI</a>&nbsp;state,
      int&nbsp;px,
      int&nbsp;py,
      int&nbsp;view_dx,
      int&nbsp;view_dy,
      int&nbsp;walk_step,
      int&nbsp;view_offset,
      <a href="../falstad/RangeSet.html" title="class in falstad">RangeSet</a>&nbsp;rset,
      int&nbsp;ang)</code>
<div class="block">Draws the first person view on the screen during the game</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#udpateSeenCellsForSegment-generation.Seg-">udpateSeenCellsForSegment</a></span>(<a href="../generation/Seg.html" title="class in generation">Seg</a>&nbsp;seg)</code>
<div class="block">Set the seencells bit for all cells of a segment</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>(package private) int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../falstad/FirstPersonDrawer.html#viewd_unscale-int-">viewd_unscale</a></span>(int&nbsp;x)</code>
<div class="block">Unscale given vale</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.falstad.DefaultViewer">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;falstad.<a href="../falstad/DefaultViewer.html" title="class in falstad">DefaultViewer</a></h3>
<code><a href="../falstad/DefaultViewer.html#decrementMapScale--">decrementMapScale</a>, <a href="../falstad/DefaultViewer.html#incrementMapScale--">incrementMapScale</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="view_width">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>view_width</h4>
<pre>private&nbsp;int view_width</pre>
</li>
</ul>
<a name="view_height">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>view_height</h4>
<pre>private&nbsp;int view_height</pre>
</li>
</ul>
<a name="map_unit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>map_unit</h4>
<pre>private&nbsp;int map_unit</pre>
</li>
</ul>
<a name="step_size">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>step_size</h4>
<pre>private&nbsp;int step_size</pre>
</li>
</ul>
<a name="seencells">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>seencells</h4>
<pre>private&nbsp;<a href="../generation/Cells.html" title="class in generation">Cells</a> seencells</pre>
</li>
</ul>
<a name="bsp_root">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>bsp_root</h4>
<pre>private&nbsp;<a href="../generation/BSPNode.html" title="class in generation">BSPNode</a> bsp_root</pre>
</li>
</ul>
<a name="angle">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>angle</h4>
<pre>private&nbsp;int angle</pre>
</li>
</ul>
<a name="zscale">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>zscale</h4>
<pre>private&nbsp;int zscale</pre>
</li>
</ul>
<a name="gc">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>gc</h4>
<pre>private&nbsp;java.awt.Graphics2D gc</pre>
</li>
</ul>
<a name="viewz">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewz</h4>
<pre>final&nbsp;int viewz</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../constant-values.html#falstad.FirstPersonDrawer.viewz">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="viewx">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewx</h4>
<pre>private&nbsp;int viewx</pre>
</li>
</ul>
<a name="viewy">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewy</h4>
<pre>private&nbsp;int viewy</pre>
</li>
</ul>
<a name="view_dx">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>view_dx</h4>
<pre>private&nbsp;int view_dx</pre>
</li>
</ul>
<a name="view_dy">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>view_dy</h4>
<pre>private&nbsp;int view_dy</pre>
</li>
</ul>
<a name="rset">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rset</h4>
<pre>private&nbsp;<a href="../falstad/RangeSet.html" title="class in falstad">RangeSet</a> rset</pre>
</li>
</ul>
<a name="deepdebug">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deepdebug</h4>
<pre>private&nbsp;boolean deepdebug</pre>
</li>
</ul>
<a name="all_visible">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>all_visible</h4>
<pre>private&nbsp;boolean all_visible</pre>
</li>
</ul>
<a name="traverse_node_ct">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>traverse_node_ct</h4>
<pre>private&nbsp;int traverse_node_ct</pre>
</li>
</ul>
<a name="traverse_ssector_ct">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>traverse_ssector_ct</h4>
<pre>private&nbsp;int traverse_ssector_ct</pre>
</li>
</ul>
<a name="drawrect_ct">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drawrect_ct</h4>
<pre>private&nbsp;int drawrect_ct</pre>
</li>
</ul>
<a name="drawrect_late_ct">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drawrect_late_ct</h4>
<pre>private&nbsp;int drawrect_late_ct</pre>
</li>
</ul>
<a name="drawrect_segment_ct">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drawrect_segment_ct</h4>
<pre>private&nbsp;int drawrect_segment_ct</pre>
</li>
</ul>
<a name="nesting">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nesting</h4>
<pre>private&nbsp;int nesting</pre>
</li>
</ul>
<a name="logFirstPerson">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>logFirstPerson</h4>
<pre>private static final&nbsp;java.util.logging.Logger logFirstPerson</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="FirstPersonDrawer-int-int-int-int-generation.Cells-generation.BSPNode-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FirstPersonDrawer</h4>
<pre>public&nbsp;FirstPersonDrawer(int&nbsp;width,
                         int&nbsp;height,
                         int&nbsp;map_unit,
                         int&nbsp;step_size,
                         <a href="../generation/Cells.html" title="class in generation">Cells</a>&nbsp;seencells,
                         <a href="../generation/BSPNode.html" title="class in generation">BSPNode</a>&nbsp;bsp_root)</pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>width</code> - of display</dd>
<dd><code>height</code> - of display</dd>
<dd><code>map_unit</code> - </dd>
<dd><code>step_size</code> - </dd>
<dd><code>seencells</code> - </dd>
<dd><code>bsp_root</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="redraw-java.awt.Graphics-falstad.Constants.StateGUI-int-int-int-int-int-int-falstad.RangeSet-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>redraw</h4>
<pre>public&nbsp;void&nbsp;redraw(java.awt.Graphics&nbsp;gc,
                   <a href="../falstad/Constants.StateGUI.html" title="enum in falstad">Constants.StateGUI</a>&nbsp;state,
                   int&nbsp;px,
                   int&nbsp;py,
                   int&nbsp;view_dx,
                   int&nbsp;view_dy,
                   int&nbsp;walk_step,
                   int&nbsp;view_offset,
                   <a href="../falstad/RangeSet.html" title="class in falstad">RangeSet</a>&nbsp;rset,
                   int&nbsp;ang)</pre>
<div class="block">Draws the first person view on the screen during the game</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../falstad/Viewer.html#redraw-java.awt.Graphics-falstad.Constants.StateGUI-int-int-int-int-int-int-falstad.RangeSet-int-">redraw</a></code>&nbsp;in interface&nbsp;<code><a href="../falstad/Viewer.html" title="interface in falstad">Viewer</a></code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../falstad/DefaultViewer.html#redraw-java.awt.Graphics-falstad.Constants.StateGUI-int-int-int-int-int-int-falstad.RangeSet-int-">redraw</a></code>&nbsp;in class&nbsp;<code><a href="../falstad/DefaultViewer.html" title="class in falstad">DefaultViewer</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gc</code> - graphics handler for the buffer image that this class draws on</dd>
<dd><code>state</code> - the current state of the GUI</dd>
<dd><code>px</code> - x coordinate of current position, only used to get viewx</dd>
<dd><code>py</code> - y coordinate of current position, only used to get viewy</dd>
<dd><code>view_dx</code> - view direction, x coordinate</dd>
<dd><code>view_dy</code> - view direction, y coordinate</dd>
<dd><code>rset</code> - </dd>
<dd><code>ang</code> - </dd>
<dd><code>walk_step,</code> - only used to get viewx and viewy</dd>
<dd><code>view_offset,</code> - only used to get viewx and viewy</dd>
</dl>
</li>
</ul>
<a name="drawBackground-java.awt.Graphics-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drawBackground</h4>
<pre>private&nbsp;void&nbsp;drawBackground(java.awt.Graphics&nbsp;gc)</pre>
<div class="block">Draws a black and a grey rectangle to cover the background.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>gc</code> - </dd>
</dl>
</li>
</ul>
<a name="drawAllVisibleSectors-generation.BSPNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drawAllVisibleSectors</h4>
<pre>private&nbsp;void&nbsp;drawAllVisibleSectors(<a href="../generation/BSPNode.html" title="class in generation">BSPNode</a>&nbsp;nn)</pre>
<div class="block">Recursive method to explore tree of BSP nodes and draw all segments in leaf nodes 
 where the bounding box is visible</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>nn</code> - is the current node of interest</dd>
</dl>
</li>
</ul>
<a name="boundingBoxIsVisible-generation.BSPNode-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>boundingBoxIsVisible</h4>
<pre>private&nbsp;boolean&nbsp;boundingBoxIsVisible(<a href="../generation/BSPNode.html" title="class in generation">BSPNode</a>&nbsp;b)</pre>
<div class="block">Decide if the bounding box is visible</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="drawAllSegmentsOfASector-generation.BSPLeaf-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drawAllSegmentsOfASector</h4>
<pre>private&nbsp;void&nbsp;drawAllSegmentsOfASector(<a href="../generation/BSPLeaf.html" title="class in generation">BSPLeaf</a>&nbsp;n)</pre>
<div class="block">Traverses all segments of this leaf and draws corresponding rectangles on screen</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>n</code> - is the leaf node</dd>
</dl>
</li>
</ul>
<a name="drawSegment-generation.Seg-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>drawSegment</h4>
<pre>private&nbsp;void&nbsp;drawSegment(<a href="../generation/Seg.html" title="class in generation">Seg</a>&nbsp;seg)</pre>
<div class="block">Draws segment on screen via graphics attribute gc
 Helper method for traverse_ssector</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seg</code> - whose seen attribute may be set to true</dd>
</dl>
</li>
</ul>
<a name="udpateSeenCellsForSegment-generation.Seg-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>udpateSeenCellsForSegment</h4>
<pre>private&nbsp;void&nbsp;udpateSeenCellsForSegment(<a href="../generation/Seg.html" title="class in generation">Seg</a>&nbsp;seg)</pre>
<div class="block">Set the seencells bit for all cells of a segment</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>seg</code> - segment (only read access)</dd>
</dl>
</li>
</ul>
<a name="viewd_unscale-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>viewd_unscale</h4>
<pre>final&nbsp;int&nbsp;viewd_unscale(int&nbsp;x)</pre>
<div class="block">Unscale given vale</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="clipt-int-int-falstad.FirstPersonDrawer.FloatPair-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clipt</h4>
<pre>private static&nbsp;boolean&nbsp;clipt(int&nbsp;denom,
                             int&nbsp;num,
                             <a href="../falstad/FirstPersonDrawer.FloatPair.html" title="class in falstad">FirstPersonDrawer.FloatPair</a>&nbsp;fp)</pre>
<div class="block">Helper method for clip3d</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>denom</code> - </dd>
<dd><code>num</code> - </dd>
<dd><code>fp</code> - is a parameter whose internal attributes p1 and p2 may be modified</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="clip3d-falstad.FirstPersonDrawer.RangePair-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clip3d</h4>
<pre>protected&nbsp;boolean&nbsp;clip3d(<a href="../falstad/FirstPersonDrawer.RangePair.html" title="class in falstad">FirstPersonDrawer.RangePair</a>&nbsp;rp)</pre>
<div class="block">Helper method for bbox_visible and drawrect</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>rp</code> - may be modified</dd>
<dt><span class="returnLabel">Returns:</span></dt>
</dl>
</li>
</ul>
<a name="dbg-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>dbg</h4>
<pre>private&nbsp;void&nbsp;dbg(java.lang.String&nbsp;str)</pre>
<div class="block">Helper method for debugging</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>str</code> - </dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/FirstPersonDrawer.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../deprecated-list.html">Deprecated</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../falstad/DefaultViewer.html" title="class in falstad"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../falstad/FirstPersonDrawer.FloatPair.html" title="class in falstad"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../index.html?falstad/FirstPersonDrawer.html" target="_top">Frames</a></li>
<li><a href="FirstPersonDrawer.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
